#!/bin/bash

storage="?sv=2022-11-02&ss=bfqt&srt=sco&sp=rwdlacupyx&se=2024-04-01T01:53:24Z&st=2024-02-13T18:53:24Z&spr=https&sig=uuyzcpnt9q%2B%2FZhq%2FA2Vk3A14a7P8hrERo8kk149ocag%3D"
container_name="https://lemusdata.blob.core.windows.net/raw/"


# the path for the daily output text file
file_path="logs/output.txt"

# Read the first line of the file
first_line=$(head -n 1 "$file_path")

# Check if the first line contains the digit "4"
if [[ "$first_line" == *4* ]]; then
    echo "Executing the output because it contains a 4 in the first line."
    ./azcopy sync "data/raw"  "$container_name$storage"    --delete-destination=true --recursive=true --exclude-pattern=".DS_Store"

else
    echo "The first line does not contain a 4. Skipping execution."
fi
